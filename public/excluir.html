<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Quantico&amp;display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="assets/img/logo2.png" type="image/x-icon">
    <script src="assets/js/funcoes.js"></script>
    <link rel="stylesheet" href="assets/css/estilo.css">
    <title>CSBlog | Plataforma para Players de CS!</title>
</head>
<body bgcolor="#6282b6">

    <div class="container-admin">
        <div class="opt-admin">
           <a href="#" onclick="logoff()"><img src="assets/img/btn-sair.png" alt=""></a>
           <a href="publicar.html"><img src="assets/img/btn-adicionar.png" alt=""></a>
           <a href="atualizar.html"><img src="assets/img/btn-atualizar.png" alt=""></a>
           <a href="excluir.html"><img src="assets/img/btn-excluir.png" alt=""></a>            
        </div>

        <div class="form-pub">
            <form id="form_excluir" method="post" onsubmit="return excluir()">
                <h1>Exclua um Post!</h1>

                <p>Id do Post:</p>
                <input type="text" name="id" id="id" autofocus="autofocus" required minlength="1">
                <br>
                <input type="submit" id="btn_enviar" value="Excluir Post!">
            </form>
        </div>    
    </div>
    
</body>
</html>

<script>

    function excluir() {
        var formulario = new URLSearchParams(new FormData(form_excluir));

        fetch("/publicar/excluir", {

            method: "POST",
            body: formulario

        }).then(function (response) {
            if (response.ok) {
                alert(`Publicação excluída com sucesso!`);
                id.innerHTML = ``;

            } else {
                alert(`Erro ao tentar excluir!`);
            }

        });

        return false;
        
    }

</script>